angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiShow",[function(){return function(a,b,c){a.$watch(c.uiShow,function(a){a?b.addClass("ui-show"):b.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(a,b,c){a.$watch(c.uiHide,function(a){a?b.addClass("ui-hide"):b.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(a,b,c){a.$watch(c.uiToggle,function(a){a?b.removeClass("ui-hide").addClass("ui-show"):b.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(a){return function(b,c,d){var e=b.$eval(d.uiEvent);angular.forEach(e,function(d,e){var f=a(d);c.bind(e,function(a){var c=Array.prototype.slice.call(arguments);c=c.splice(1),b.$apply(function(){f(b,{$event:a,$params:c})})})})}}]),function(){function a(a,b,c,d){angular.forEach(b.split(" "),function(b){var e={type:"map-"+b};google.maps.event.addListener(c,b,function(b){d.triggerHandler(angular.extend({},e,b)),a.$$phase||a.$apply()})})}function b(b,d){c.directive(b,[function(){return{restrict:"A",link:function(c,e,f){c.$watch(f[b],function(b){a(c,d,b,e)})}}}])}var c=angular.module("ui.directives");c.directive("uiMap",["ui.config","$parse",function(b,c){var d="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",e=b.map||{};return{restrict:"A",link:function(b,f,g){var h=angular.extend({},e,b.$eval(g.uiOptions)),i=new google.maps.Map(f[0],h),j=c(g.uiMap);j.assign(b,i),a(b,d,i,f)}}}]),c.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(b,c,d){var e="closeclick content_change domready position_changed zindex_changed",f=b.mapInfoWindow||{};return{link:function(b,g,h){var i=angular.extend({},f,b.$eval(h.uiOptions));i.content=g[0];var j=c(h.uiMapInfoWindow),k=j(b);k||(k=new google.maps.InfoWindow(i),j.assign(b,k)),a(b,e,k,g),g.replaceWith("<div></div>");var l=k.open;k.open=function(a,c,e,f,h,i){d(g.contents())(b),l.call(k,a,c,e,f,h,i)}}}}]),b("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),b("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),b("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),b("uiMapGroundOverlay","click dblclick")}(),function(){"use strict";var a;a=angular.module("ocupop",[]),a.value("header_height",$(".site-header").height),a.run(["$rootScope",function(a){var b,c;return c=1,b=$(window),b.on("scroll",function(){return c=b.scrollTop(),a.$broadcast("scroll_pos",c)})}])}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuCarousel",["$timeout","$compile",function(a,b){var c,d,e;return d={},e='<div class="ocu-carousel-container">\n  <ul class="ocu-carousel" ng-transclude></ul>\n  <ul class="ocu-carousel-nav">\n    <li ng-repeat="item in carousel.items"\n      ng-class="{\'ocu-carousel-active\': ($index == carousel.current_index)}"\n      ng-click="carousel.current_index=$index"></li>\n  </ul>\n</div>',c=function(c,d,e){var f,g,h,i,j;return f=d.find(".ocu-carousel"),g=f.children(),c.carousel={items:function(){j=[];for(var a=0,b=g.length;b>=0?b>a:a>b;b>=0?a++:a--)j.push(a);return j}.apply(this),current_index:0},i=e.ocuCarousel,h=null,g.each(function(){var a;return a=$(this).index(),$(this).attr("ng-class","{'ocu-carousel-active': ("+a+"==carousel.current_index)}"),0===a&&$(this).addClass("ocu-carousel-active"),$(this).replaceWith(b($(this))(c))}),null!=i?c.$watch("carousel.current_index",function(){return a.cancel(h),h=a(function(){return c.carousel.current_index=(c.carousel.current_index+1)%c.carousel.items.length},i)}):void 0},{link:c,template:e,scope:d,restrict:"EA",transclude:!0,replace:!0,priority:1e3}}])}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuCheckbox",["$compile",function(a){var b,c;return c="<input type='checkbox'>\n<div class=\"input-checkbox\"></div>\n<label ng-transclude></label>",b=function(b,c,d){return c.children("input").replaceWith(a("<input id='"+d.ocuCheckbox+"' ng-model='"+d.ocuCheckbox+"' type='checkbox'>")(b)),c.children(".input-checkbox").replaceWith(a("<div class='input-checkbox' ng-class='{checked: "+d.ocuCheckbox+"}'\n  ng-click='"+d.ocuCheckbox+" = !"+d.ocuCheckbox+"'></div>")(b)),c.find("label").attr("for",d.ocuCheckbox)},{template:c,link:b,transclude:!0}}])}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuFileUpload",["$compile","$parse",function(a,b){var c,d,e;return c=Modernizr.fileinput&&window.FormData,e=c?'<span class="content" ng-transclude></span>':"",d=function(d,e,f){var g,h,i,j,k;return c?(i=f.ocuFileUpload,k=f.placeholder||"",h=e.find(".content").text(),e.html(a('<button type="button" class="ocu-file-button" ng-class="{\'active\' : '+i+'}">\n  <span>'+h+'</span>\n  <input class="ocu-file-input" type="file">\n</button>\n<span class="ocu-file-status" ng-bind="'+i+".name||'"+k+'\'"></span>\n<span class="ocu-file-remove" ng-show="'+i+'"\n  ng-click="clear_files()">&times;</span>')(d)),g=e.find(".ocu-file-input"),j=b(i),g.on("change",function(){return j.assign(d,$(this)[0].files[0]),d.$apply()}),d.clear_files=function(){return g.val(null),j.assign(d,null)}):e.text(f.fallback)},{template:e,link:d,transclude:!0}}])}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuLabel",function(){var a;return a=Modernizr.input.placeholder,function(b,c,d){var e;return e=d.ocuLabel,c.attr("placeholder",e),c.attr("title",e),a?void 0:c.before($("<label>"+e+"</label>"))}})}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuScrollClick",["header_height","$rootScope",function(a,b){var c;return c=function(c){$("html, body").stop(!0,!0).animate({scrollTop:$(c).offset().top-a()},"slow",function(){b.$broadcast("current_section",$(c).attr("id"))})},function(a,b,d){var e;e=d.href,a.$on("current_section",function(a,c){b.toggleClass("current-nav-item",e==="#"+c)}),b.on("click",function(a){a.preventDefault(),c(e)})}}])}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuScrollCollision",["$rootScope",function(a){return function(b,c,d){var e,f,g,h,i,j;return i=d.ocuScrollCollision,h=null!=(j=d.collisionPoint)?j:0,d.collisionElement&&(e=$(d.collisionElement),g=e.offset().top,f=e.height()+g),a.$watch("scroll_pos",function(b,d){var j,k,l,m,n,o,p,q,r,s;return l=c.offset().top,j=c.height()+l,e?(k=g<(n=l-b)&&f>=n||l<(o=b+g)&&j>=o,m=g<(p=l-d)&&f>=p||l<(q=d+g)&&j>=q):(k=l<(r=b+h)&&j>=r,m=l<(s=d+h)&&j>=s),k&&!m&&a.$broadcast(i,!0),!k&&m?a.$broadcast(i,!1):void 0})}}])}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuScrollSection",["$rootScope","header_height",function(a,b){return function(c,d,e){return a.$on("scroll_pos",function(c,f){var g,h,i;return h=e.ocuScrollSection||e.id,i=d.offset().top-2*b(),g=i+d.height(),f>=i&&g>f&&h!==a.current_section?(a.current_section=h,a.$broadcast("current_section",h)):void 0})}}])}.call(this),function(){"use strict";var a=[].slice;angular.module("ocupop").directive("ocuSrc",function(){return function(b,c,d){var e,f,g,h,i,j;if(d.ocuSrc&&d.format)return h=function(a){return c.attr("src",f+"."+a)},f=d.ocuSrc,j=d.format.split(" "),g=2<=j.length?a.call(j,0,i=j.length-1):(i=0,[]),e=j[i++],g.length?Modernizr.on(g,function(a){var b;return b=a?g:e,h(b)}):h(e)}})}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuToggle",function(){return function(a,b,c){var d,e,f;return b.hide(),d=c.method?""+c.method+"Toggle":"toggle",e=null!=(f=c.speed)?f:1e3,a.$watch(c.ocuToggle,function(a,c){return a!==c?b[d](e):void 0})}})}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuTypeset",function(){return function(a,b){return b.children().each(function(a){var b,c,d,e,f,g,h,i;return $(this).addClass("line-"+a),f=$(this).text(),(i=f.match(/\S+/g))?(e=function(){var a,e,f,j,k;for(k=[],h=a=0,f=i.length;f>a;h=++a){if(g=i[h],d=g.match(/at|av|aw|ay|ta|va|wa|ya/gi))for(b=e=0,j=d.length;j>e;b=++e)c=d[b],g=g.replace(c,"<span class='kern-"+b+"'>"+c+"</span>");k.push("<span class='word-"+h+"'>"+g+"</span>")}return k}(),$(this).html(e.join("<span class='ocu-typeset-space'> <span class='ocu-typeset-space'>&nbsp;</span> </span>"))):void 0})}})}.call(this),function(){"use strict";angular.module("ocupop").directive("ocuVimeo",function(){var a,b;return b='<div class="ocu-vimeo-container {{video.status}}">\n  <div class="ocu-vimeo"></div>\n  <div class="ocu-vimeo-content" ng-transclude></div>\n</div>',a=function(a,b,c){var d,e,f,g;return d=$("<iframe src="+c.src+"?api=1>"),b.find(".ocu-vimeo").append(d),Modernizr.websockets?(e=$f(d[0]),e.addEvent("ready",function(){return e.addEvent("pause",function(){return a.video.status="paused",a.$apply()}),e.addEvent("play",function(){return a.video.status="playing",a.$apply()}),e.addEvent("finish",function(){return a.video.status="ended",a.$apply()})}),a.video={status:"",player:e,play:function(){return this.player.api("play")},pause:function(){return this.player.api("pause")},current_time:function(a){return null!=a?this.player.api("seekTo",a):this.player.api("getCurrentTime")}}):b.on("click",function(){return b.find(".ocu-vimeo-content").remove()}),f=c.height/c.width||9/16,(g=function(){return b.height(b.width()*f)})(),$(window).on("resize",g)},{link:a,template:b,restrict:"EA",transclude:!0,replace:!0}})}.call(this),function(){"use strict";angular.module("ocupop").filter("ocumatch",function(){return function(a,b){return a&&b?!!a.match(new RegExp("^"+b,"i")):!1}})}.call(this),function(){"use strict";var a=[].slice;angular.module("ocupop").factory("Blog",["$http","$routeParams","$q",function(b,c,d){var e,f,g,h,i,j,k,l,m,n;return n=[],i=0,m=0,k=function(a){return b.get("blog/"+a.slug+".html").success(function(b){return a.content=b})},j=function(a){var d;return d=c.id,b.get("blog/index.json").success(function(b){var c,e,f;for(n=b,e=0,f=n.length;f>e;e++)c=n[e],c.keywords=c.tags.concat([c.title]);return i=d?function(){var a,b,e;for(a=b=0,e=n.length;e>b;a=++b)if(c=n[a],c.slug===d)return a}():0,m=i+a})},l=function(b,c){var e,f,g,h,i,j,l;return e=d.defer(),h=n.slice(b,c),h.length?(l=function(){var a,b,c;for(c=[],a=0,b=h.length;b>a;a++)g=h[a],c.push(k(g));return c}(),i=2<=l.length?a.call(l,0,j=l.length-1):(j=0,[]),f=l[j++],f.then(function(){return e.resolve(n)})):e.reject("no more posts"),e.promise},e=function(a){return j(a).then(function(){return l(i,m)})},g=function(a){var b;return b=m,m+=a,l(b,m)},h=function(a){return h=i,i=Math.max(0,i-a),l(i,h)},f={above:function(){return i>0},below:function(){return m<=n.length}},{first:e,next:g,prev:h,more:f}}])}.call(this),function(){"use strict";angular.module("ocupop").factory("OcuPathRewrite",["$rootScope","$route","$location",function(a,b,c){var d,e;return d=null,window.$location=c,e=function(e){return a.$on("current_section",function(f,g){return d=b.current,c.path("/"+e+"/"+g+"/").replace(),a.$apply(),console.log(c.path())}),a.$on("$locationChangeSuccess",function(){return new RegExp(e+"\\/\\w+").test(c.path())?b.current=d:void 0})},{rewrite:e}}])}.call(this);